# Requirements Archive: v5.0 Stream Views

**Archived:** 2026-02-15
**Milestone:** v5.0 Stream Views (shipped 2026-02-14)

## v5.0 Requirements — All Complete

### AI Hardening

- **AIHR-01**: AI system prompt includes explicit no-tools constraint and fewshot — **DEFERRED** (prompt engineering iteration needed)
- [x] **AIHR-02**: Eval loop detects terse tool call patterns and translates to Python — Phase 22
- [x] **AIHR-03**: Read tool call `<R:filepath>` translated to file read — Phase 22
- [x] **AIHR-04**: Edit tool call `<E:filepath:start-end>` translated to file edit — Phase 22
- [x] **AIHR-05**: Write tool call `<W:filepath>` translated to file write — Phase 22
- [x] **AIHR-06**: Glob tool call `<G:pattern>` translated to glob search — Phase 22
- [x] **AIHR-07**: Grep tool call `<Grep:pattern>` translated to content search — Phase 22
- [x] **AIHR-08**: User sees visible indicator when tool call is translated — Phase 22

### Execution Convention

- [x] **EXEC-01**: AI distinguishes executable from illustrative code — Phase 21
- [x] **EXEC-02**: Only `<run>` blocks extracted and executed — Phase 21

### Multi-View Framework

- [x] **VIEW-01**: ViewFormatter protocol defines display strategy interface — Phase 23
- [x] **VIEW-02**: Channel._display() delegates to formatter — Phase 23
- [x] **VIEW-03**: UserView renders AI code as Rich Panel — Phase 24
- [x] **VIEW-04**: DebugView renders raw data with metadata — Phase 25
- [x] **VIEW-05**: Runtime view toggle via Ctrl+V — Phase 25
- [x] **VIEW-06**: AI self-view with structured tags — Phase 25

### Execution Display

- [x] **DISP-01**: Rich Panel with syntax highlighting and title — Phase 24
- [x] **DISP-02**: Output renders below code in panel — Phase 24
- [x] **DISP-03**: Buffered code+output grouping — Phase 24
- [x] **DISP-04**: No redundant [py] echo for AI code — Phase 24

## Traceability

| Requirement | Phase | Final Status |
|-------------|-------|--------------|
| AIHR-01 | Deferred | Deferred to future |
| AIHR-02 | Phase 22 | Complete |
| AIHR-03 | Phase 22 | Complete |
| AIHR-04 | Phase 22 | Complete |
| AIHR-05 | Phase 22 | Complete |
| AIHR-06 | Phase 22 | Complete |
| AIHR-07 | Phase 22 | Complete |
| AIHR-08 | Phase 22 | Complete |
| EXEC-01 | Phase 21 | Complete |
| EXEC-02 | Phase 21 | Complete |
| VIEW-01 | Phase 23 | Complete |
| VIEW-02 | Phase 23 | Complete |
| VIEW-03 | Phase 24 | Complete |
| VIEW-04 | Phase 25 | Complete |
| VIEW-05 | Phase 25 | Complete |
| VIEW-06 | Phase 25 | Complete |
| DISP-01 | Phase 24 | Complete |
| DISP-02 | Phase 24 | Complete |
| DISP-03 | Phase 24 | Complete |
| DISP-04 | Phase 24 | Complete |

**Coverage:** 19/20 complete, 1 deferred (AIHR-01)

## Notes

- AIHR-01 deferred: The tool call interception approach (translate and execute natively) proved more effective than prompt-only rejection. The no-tools constraint fewshot was deemed unnecessary since tool calls are now handled productively.
- All out-of-scope decisions from v5.0 remain valid.

---
*Archived: 2026-02-15*
